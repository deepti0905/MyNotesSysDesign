<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than diagrams.net -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="2101px" height="1971px" viewBox="-0.5 -0.5 2101 1971" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2021-11-23T17:09:17.575Z&quot; agent=&quot;5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36&quot; etag=&quot;zTcFJlb655FeVgyw4UTG&quot; version=&quot;15.8.3&quot; type=&quot;google&quot;&gt;&lt;diagram id=&quot;8QDGYml4Oz1meU3iuYzM&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g><rect x="20" y="10" width="190" height="120" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 182px; height: 1px; padding-top: 0px; margin-left: 25px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 130px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><h1>why?</h1><div>Messenger is a different concept than API Server. It will expose various other avenues of the system design</div></div></div></div></foreignObject><text x="25" y="12" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px">why?...</text></switch></g><rect x="20" y="150" width="270" height="170" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 262px; height: 1px; padding-top: 140px; margin-left: 25px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 180px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><h1>What?</h1><div><span style="color: rgb(61 , 61 , 78) ; background-color: rgb(255 , 255 , 255)"><font style="font-size: 12px">Facebook Messenger is a software application that provides text-based instant messaging services to its users. Messenger users can chat with their Facebook friends both from cell phones and Facebookâ€™s website.</font></span><br /></div></div></div></div></foreignObject><text x="25" y="152" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px">What?...</text></switch></g><rect x="20" y="340" width="290" height="250" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 282px; height: 1px; padding-top: 330px; margin-left: 25px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 260px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><h1>Functional Req</h1><div>1. user can make request</div><div>2. user should receive the message</div><div>3. If the recipient is offline should receive messages when logs in</div><div>4. User should be able to see the chat history</div><div>5. should show online or offline status of the user</div><div><br /></div></div></div></div></foreignObject><text x="25" y="342" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px">Functional Req...</text></switch></g><rect x="30" y="560" width="300" height="120" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 292px; height: 1px; padding-top: 550px; margin-left: 35px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 130px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><h1>Non-Functional Req</h1><div>1. Low Latency</div><div>2. Consistency holds priority over Availability</div></div></div></div></foreignObject><text x="35" y="562" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px">Non-Functional Req...</text></switch></g><rect x="690" y="10" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 25px; margin-left: 691px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Monolith</div></div></div></foreignObject><text x="720" y="29" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px" text-anchor="middle">Monolith</text></switch></g><ellipse cx="605" cy="77.5" rx="7.5" ry="7.5" fill="rgba(255, 255, 255, 1)" stroke="rgba(0, 0, 0, 1)" pointer-events="all"/><path d="M 605 85 L 605 110 M 605 90 L 590 90 M 605 90 L 620 90 M 605 110 L 590 130 M 605 110 L 620 130" fill="none" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 137px; margin-left: 605px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">User 1</div></div></div></foreignObject><text x="605" y="149" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px" text-anchor="middle">User 1</text></switch></g><path d="M 820 130 L 695 130 L 695 223.63" fill="none" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 695 228.88 L 691.5 221.88 L 695 223.63 L 698.5 221.88 Z" fill="rgba(0, 0, 0, 1)" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 130px; margin-left: 707px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); background-color: rgba(255, 255, 255, 1); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">receive</div></div></div></foreignObject><text x="707" y="134" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px" text-anchor="middle">receive</text></switch></g><rect x="820" y="90" width="80" height="80" fill="rgba(255, 255, 255, 1)" stroke="rgba(0, 0, 0, 1)" pointer-events="all"/><ellipse cx="695" cy="237.5" rx="7.5" ry="7.5" fill="rgba(255, 255, 255, 1)" stroke="rgba(0, 0, 0, 1)" pointer-events="all"/><path d="M 695 245 L 695 270 M 695 250 L 680 250 M 695 250 L 710 250 M 695 270 L 680 290 M 695 270 L 710 290" fill="none" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 297px; margin-left: 695px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">User2</div></div></div></foreignObject><text x="695" y="309" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px" text-anchor="middle">User2</text></switch></g><path d="M 960 115 C 960 106.72 973.43 100 990 100 C 997.96 100 1005.59 101.58 1011.21 104.39 C 1016.84 107.21 1020 111.02 1020 115 L 1020 165 C 1020 173.28 1006.57 180 990 180 C 973.43 180 960 173.28 960 165 Z" fill="rgba(255, 255, 255, 1)" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1020 115 C 1020 123.28 1006.57 130 990 130 C 973.43 130 960 123.28 960 115" fill="none" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 153px; margin-left: 961px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Store Messages</div></div></div></foreignObject><text x="990" y="156" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px" text-anchor="middle">Store Mess...</text></switch></g><path d="M 630 90 L 813.73 121.95" fill="none" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 818.9 122.85 L 811.4 125.1 L 813.73 121.95 L 812.6 118.2 Z" fill="rgba(0, 0, 0, 1)" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 99px; margin-left: 693px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); background-color: rgba(255, 255, 255, 1); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">send</div></div></div></foreignObject><text x="693" y="103" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px" text-anchor="middle">send</text></switch></g><rect x="1130" y="50" width="790" height="290" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 782px; height: 1px; padding-top: 40px; margin-left: 1135px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 300px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><h1>Monolith Features</h1><div>1. Api to send</div><div>2. Storage on server to persist</div><div>3. Get response from server for a client</div><div>4. session manager is required to manage sessions for the users</div><div><br /></div><div><br /></div></div></div></div></foreignObject><text x="1135" y="52" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px">Monolith Features...</text></switch></g><rect x="550" y="370" width="380" height="120" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 372px; height: 1px; padding-top: 360px; margin-left: 555px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 130px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><h1>APIS</h1><div>1. status send(user_id, session_id, Text)</div><div>2. status,text receive(for_user_id, session_id)</div><div>3. status checkStatus(user_id)</div></div></div></div></foreignObject><text x="555" y="372" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px">APIS...</text></switch></g><path d="M 310 740 L 385 740 L 385 941.8 L 451.63 941.82" fill="none" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 456.88 941.82 L 449.88 945.32 L 451.63 941.82 L 449.88 938.32 Z" fill="rgba(0, 0, 0, 1)" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="all"/><ellipse cx="295" cy="717.5" rx="7.5" ry="7.5" fill="rgba(255, 255, 255, 1)" stroke="rgba(0, 0, 0, 1)" pointer-events="all"/><path d="M 295 725 L 295 750 M 295 730 L 280 730 M 295 730 L 310 730 M 295 750 L 280 770 M 295 750 L 310 770" fill="none" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 777px; margin-left: 295px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">Actor</div></div></div></foreignObject><text x="295" y="789" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px" text-anchor="middle">Actor</text></switch></g><path d="M 1480 745 C 1480 736.72 1493.43 730 1510 730 C 1517.96 730 1525.59 731.58 1531.21 734.39 C 1536.84 737.21 1540 741.02 1540 745 L 1540 795 C 1540 803.28 1526.57 810 1510 810 C 1493.43 810 1480 803.28 1480 795 Z" fill="rgba(255, 255, 255, 1)" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1540 745 C 1540 753.28 1526.57 760 1510 760 C 1493.43 760 1480 753.28 1480 745" fill="none" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 783px; margin-left: 1481px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Storage of Messages</div></div></div></foreignObject><text x="1510" y="786" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px" text-anchor="middle">Storage of...</text></switch></g><path d="M 950 485 C 950 476.72 963.43 470 980 470 C 987.96 470 995.59 471.58 1001.21 474.39 C 1006.84 477.21 1010 481.02 1010 485 L 1010 535 C 1010 543.28 996.57 550 980 550 C 963.43 550 950 543.28 950 535 Z" fill="rgba(255, 255, 255, 1)" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1010 485 C 1010 493.28 996.57 500 980 500 C 963.43 500 950 493.28 950 485" fill="none" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 523px; margin-left: 951px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">User Meta</div></div></div></foreignObject><text x="980" y="526" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px" text-anchor="middle">User Meta</text></switch></g><rect x="740" y="800" width="80" height="80" fill="rgba(255, 255, 255, 1)" stroke="rgba(0, 0, 0, 1)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 840px; margin-left: 741px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Session Manager</div></div></div></foreignObject><text x="780" y="844" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px" text-anchor="middle">Session Manag...</text></switch></g><rect x="1010" y="980" width="100" height="100" fill="rgba(255, 255, 255, 1)" stroke="rgba(0, 0, 0, 1)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 1030px; margin-left: 1011px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">In memory cache for latest messages to reduce latency</div></div></div></foreignObject><text x="1060" y="1034" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px" text-anchor="middle">In memory cache...</text></switch></g><path d="M 1220 970 L 1165 970 L 1165 1030 L 1116.37 1030" fill="none" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1111.12 1030 L 1118.12 1026.5 L 1116.37 1030 L 1118.12 1033.5 Z" fill="rgba(0, 0, 0, 1)" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1300 970 L 1390 970 L 1390 795 L 1473.63 795" fill="none" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1478.88 795 L 1471.88 798.5 L 1473.63 795 L 1471.88 791.5 Z" fill="rgba(0, 0, 0, 1)" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 897px; margin-left: 1389px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); background-color: rgba(255, 255, 255, 1); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">purges messages older than 5 min</div></div></div></foreignObject><text x="1389" y="900" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px" text-anchor="middle">purges messages older than 5 min</text></switch></g><rect x="1220" y="930" width="80" height="80" fill="rgba(255, 255, 255, 1)" stroke="rgba(0, 0, 0, 1)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 970px; margin-left: 1221px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Purge messages to storage timely</div></div></div></foreignObject><text x="1260" y="974" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px" text-anchor="middle">Purge message...</text></switch></g><path d="M 510 965 L 625 965 L 625 840 L 733.63 840" fill="none" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 738.88 840 L 731.88 843.5 L 733.63 840 L 731.88 836.5 Z" fill="rgba(0, 0, 0, 1)" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="all"/><path d="M 485 660 L 485 620 L 980 620 L 980 556.37" fill="none" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 980 551.12 L 983.5 558.12 L 980 556.37 L 976.5 558.12 Z" fill="rgba(0, 0, 0, 1)" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 624px; margin-left: 761px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); background-color: rgba(255, 255, 255, 1); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">refer for user validation/authentication/check friend list</div></div></div></foreignObject><text x="761" y="627" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px" text-anchor="middle">refer for user validation/authentication/check friend list</text></switch></g><path d="M 510 1170 L 610 1170 L 610 1200 L 703.63 1200" fill="none" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 708.88 1200 L 701.88 1203.5 L 703.63 1200 L 701.88 1196.5 Z" fill="rgba(0, 0, 0, 1)" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="all"/><path d="M 510 965 L 605 965 L 605 1030 L 693.63 1030" fill="none" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 698.88 1030 L 691.88 1033.5 L 693.63 1030 L 691.88 1026.5 Z" fill="rgba(0, 0, 0, 1)" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="all"/><path d="M 510 690 L 550 690 L 913.63 690" fill="none" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 918.88 690 L 911.88 693.5 L 913.63 690 L 911.88 686.5 Z" fill="rgba(0, 0, 0, 1)" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 692px; margin-left: 698px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); background-color: rgba(255, 255, 255, 1); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">Text List getHistory(session_id, timestamp, page_num)</div></div></div></foreignObject><text x="698" y="695" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px" text-anchor="middle">Text List getHistory(session_id, timestamp, page_num)</text></switch></g><rect x="460" y="660" width="50" height="610" fill="rgba(255, 255, 255, 1)" stroke="rgba(0, 0, 0, 1)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 48px; height: 1px; padding-top: 965px; margin-left: 461px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">API Gateway</div></div></div></foreignObject><text x="485" y="969" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px" text-anchor="middle">API Gate...</text></switch></g><rect x="490" y="885" width="420" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 418px; height: 1px; padding-top: 900px; margin-left: 491px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">session_id initiate_chat(originator's user_id, participants_id_list)</div></div></div></foreignObject><text x="700" y="904" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px" text-anchor="middle">session_id initiate_chat(originator's user_id, participants_id_list)</text></switch></g><path d="M 210 1180 L 335 1180 L 335 1117.5 L 453.63 1117.5" fill="none" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 458.88 1117.5 L 451.88 1121 L 453.63 1117.5 L 451.88 1114 Z" fill="rgba(0, 0, 0, 1)" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1179px; margin-left: 289px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); background-color: rgba(255, 255, 255, 1); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">join chat(session_id)</div></div></div></foreignObject><text x="289" y="1182" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px" text-anchor="middle">join chat(session_id)</text></switch></g><path d="M 195 1210 L 195 1240.7 L 453.63 1240.72" fill="none" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 458.88 1240.72 L 451.88 1244.22 L 453.63 1240.72 L 451.88 1237.22 Z" fill="rgba(0, 0, 0, 1)" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1240px; margin-left: 315px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); background-color: rgba(255, 255, 255, 1); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">long poll for messages in session_id<br /></div></div></div></foreignObject><text x="315" y="1244" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px" text-anchor="middle">long poll for messages in session_id&#xa;</text></switch></g><ellipse cx="195" cy="1157.5" rx="7.5" ry="7.5" fill="rgba(255, 255, 255, 1)" stroke="rgba(0, 0, 0, 1)" pointer-events="all"/><path d="M 195 1165 L 195 1190 M 195 1170 L 180 1170 M 195 1170 L 210 1170 M 195 1190 L 180 1210 M 195 1190 L 210 1210" fill="none" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1217px; margin-left: 195px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">Actor</div></div></div></foreignObject><text x="195" y="1229" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px" text-anchor="middle">Actor</text></switch></g><rect x="1570" y="770" width="330" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 328px; height: 1px; padding-top: 785px; margin-left: 1571px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">session_id| user_id| time stamp in UTC| message</div></div></div></foreignObject><text x="1735" y="789" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px" text-anchor="middle">session_id| user_id| time stamp in UTC| message</text></switch></g><path d="M 790 1180 L 1060 1180 L 1060 1086.37" fill="none" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1060 1081.12 L 1063.5 1088.12 L 1060 1086.37 L 1056.5 1088.12 Z" fill="rgba(0, 0, 0, 1)" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1183px; margin-left: 926px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); background-color: rgba(255, 255, 255, 1); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">fetches from cache</div></div></div></foreignObject><text x="926" y="1186" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px" text-anchor="middle">fetches from cache</text></switch></g><path d="M 790 1220 L 1510 1220 L 1510 816.37" fill="none" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1510 811.12 L 1513.5 818.12 L 1510 816.37 L 1506.5 818.12 Z" fill="rgba(0, 0, 0, 1)" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1219px; margin-left: 1215px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); background-color: rgba(255, 255, 255, 1); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">Cache Miss hit storage</div></div></div></foreignObject><text x="1215" y="1222" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px" text-anchor="middle">Cache Miss hit storage</text></switch></g><rect x="710" y="1140" width="80" height="80" fill="rgba(255, 255, 255, 1)" stroke="rgba(0, 0, 0, 1)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 1180px; margin-left: 711px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">receive messages</div></div></div></foreignObject><text x="750" y="1184" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px" text-anchor="middle">receive messa...</text></switch></g><rect x="520" y="1240" width="380" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 378px; height: 1px; padding-top: 1255px; margin-left: 521px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">receive(session_id, last time stamp when user had message)</div></div></div></foreignObject><text x="710" y="1259" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px" text-anchor="middle">receive(session_id, last time stamp when user had message)</text></switch></g><rect x="615" y="740" width="330" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 328px; height: 1px; padding-top: 755px; margin-left: 616px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">generates a new session if session doesn't exist</div></div></div></foreignObject><text x="780" y="759" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px" text-anchor="middle">generates a new session if session doesn't exist</text></switch></g><rect x="1630" y="840" width="440" height="120" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 432px; height: 1px; padding-top: 830px; margin-left: 1635px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 130px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><h1>DB Arch</h1><div>1. sharded on session id</div><div>2. DB Replication for redundancy</div><div>3. we want a consistent view and we want to trade availability --&gt; ACID --&gt; use SQL like PostGres</div><div><br /></div></div></div></div></foreignObject><text x="1635" y="842" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px">DB Arch...</text></switch></g><path d="M 890 1030 L 950 1030 L 950 1024 L 1003.63 1024" fill="none" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1008.88 1024 L 1001.88 1027.5 L 1003.63 1024 L 1001.88 1020.5 Z" fill="rgba(0, 0, 0, 1)" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="all"/><rect x="700" y="990" width="190" height="80" fill="rgba(255, 255, 255, 1)" stroke="rgba(0, 0, 0, 1)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 1030px; margin-left: 701px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">send_message(session_id, timestamp, text)</div></div></div></foreignObject><text x="795" y="1034" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px" text-anchor="middle">send_message(session_id, timest...</text></switch></g><rect x="220" y="1300" width="270" height="120" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 262px; height: 1px; padding-top: 1290px; margin-left: 225px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 130px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><h1>If connection drops for receiver</h1><div>1. receiver will longPoll server to fetch last missed messages</div></div></div></div></foreignObject><text x="225" y="1302" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px">If connection drops for receiver...</text></switch></g><rect x="0" y="790" width="260" height="150" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 252px; height: 1px; padding-top: 780px; margin-left: 5px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 160px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><h1>If connection drops on server</h1><div>1. client send a message and it timeout</div><div>2. client should retry</div></div></div></div></foreignObject><text x="5" y="792" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px">If connection drops on server...</text></switch></g><rect x="655" y="1400" width="445" height="230" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 437px; height: 1px; padding-top: 1390px; margin-left: 660px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 240px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><h1>Web sockets</h1><div>1. instead of regular connection.</div><div>2. user and server maintain a websocket.</div><div>3. this implies a 2-way connectionÂ </div><div>4. user sends a request to server and server sends a request to client as soon as server receives a response</div><div>5. This will require persistance of a connection, may not. be best use of server. Say server can maintain 500 open connection. with this setup it can only serve 500 users at maxÂ </div><div>6. If the connection drops a new web socket needs to be created</div></div></div></div></foreignObject><text x="660" y="1402" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px">Web sockets...</text></switch></g><rect x="1660" y="570" width="440" height="120" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 432px; height: 1px; padding-top: 560px; margin-left: 1665px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 130px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><h1>Why Session id?</h1><div>1. Helps group a chat</div><div>2. User can view history of a chat just by requesting on session id</div></div></div></div></foreignObject><text x="1665" y="572" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px">Why Session id?...</text></switch></g><path d="M 1000 690 L 1510 690 L 1510 723.63" fill="none" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1510 728.88 L 1506.5 721.88 L 1510 723.63 L 1513.5 721.88 Z" fill="rgba(0, 0, 0, 1)" stroke="rgba(0, 0, 0, 1)" stroke-miterlimit="10" pointer-events="all"/><rect x="920" y="650" width="80" height="80" fill="rgba(255, 255, 255, 1)" stroke="rgba(0, 0, 0, 1)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 690px; margin-left: 921px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Get History</div></div></div></foreignObject><text x="960" y="694" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px" text-anchor="middle">Get History</text></switch></g><rect x="1220" y="540" width="190" height="120" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 182px; height: 1px; padding-top: 530px; margin-left: 1225px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 130px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><h1>History</h1><div>History can be returned as pages</div><div>Returning all data in one go might be expensive or will require streaming</div></div></div></div></foreignObject><text x="1225" y="542" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px">History...</text></switch></g><rect x="980" y="415" width="360" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 358px; height: 1px; padding-top: 430px; margin-left: 981px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Sharded on user id hash . Use consistent hashing. Sql is a good db to maintain the ACID properties</div></div></div></foreignObject><text x="1160" y="434" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px" text-anchor="middle">Sharded on user id hash . Use consistent hashing. Sql is a g...</text></switch></g><rect x="1650" y="1040" width="380" height="120" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 372px; height: 1px; padding-top: 1030px; margin-left: 1655px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 130px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><h1>HBase</h1><div>1. If you dnt want to maintain a separate redis Cache</div><div>2. HBase which runs on HDFS distributed file system</div><div>3. It will keep data in Cache for some time, before purging to disk</div><div>4. This will support the low latency of the chat</div></div></div></div></foreignObject><text x="1655" y="1042" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px">HBase...</text></switch></g><rect x="160" y="1490" width="330" height="190" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 322px; height: 1px; padding-top: 1480px; margin-left: 165px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 200px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><h1>Ordering Messages</h1><div>1. Messages should be ordered on timestamp at server end which is UTC.</div><div>2. What if both users have sent time at the same timestamp</div><div>3. The Client end or the view end will give priority to its user over others and can other the other messages accordingly.</div><div>4. What if there are multiple messages sent at a specific time, server can send a order back. But still client can order its user as the top</div></div></div></div></foreignObject><text x="165" y="1492" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px">Ordering Messages...</text></switch></g><rect x="970" y="930" width="160" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 945px; margin-left: 971px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">last 15 min of chat</div></div></div></foreignObject><text x="1050" y="949" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px" text-anchor="middle">last 15 min of chat</text></switch></g><rect x="160" y="1790" width="360" height="180" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 352px; height: 1px; padding-top: 1780px; margin-left: 165px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 190px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><h1>How to ensure time is received in UTC</h1><div>1. client sync with server and converts its time to UTC before sending them to server</div><div>2. client sends its time zone or its current time to server. After that server can offset to the time of every request and convert them to UTC</div></div></div></div></foreignObject><text x="165" y="1792" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px">How to ensure time is received in UTC...</text></switch></g><rect x="685" y="1700" width="515" height="260" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 507px; height: 1px; padding-top: 1690px; margin-left: 690px;"><div data-drawio-colors="color: rgba(0, 0, 0, 1); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 270px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><h1>Heading</h1><p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p></div></div></div></foreignObject><text x="690" y="1702" fill="rgba(0, 0, 0, 1)" font-family="Helvetica" font-size="12px">Heading...</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>